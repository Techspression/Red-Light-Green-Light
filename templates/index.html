
<!DOCTYPE html>

<html lang="en">
<head>
  <style>
    *{
    margin: 0;
    padding: 0;
    text-decoration: none;
    list-style: none;
    box-sizing: border-box;
    }
    body{
        font-family: montserrat;
        background: #3d3d3d;
    }
    nav{
        background: #0082e6;
        height: 80px;
        width: 50%;
        color: white;
    }
    nav ul{
        float: right;
        margin-right: 20px;
    }
    nav ul li{
        display: inline-block;
        line-height: 80px;
        margin: 0 5px;
    }
    nav ul li a{
        color: white;
        font: size 17px;
        padding: 7px 13px;
        border-radius:3px;
        text-transform: uppercase;
    }
    
        .navigation 
    {
        inset: 20px 0px 20px 20px;
        margin-top: 90px;
        width: 700px;
        background: #fff;
    }
    .M21
    {
      background: #e4e0e3;
      /* padding-top: 55%; */
      margin-top: 40%;
      width: 170px;
      height: 100px;
       
    }
    .right{
      float: right;
      padding-left: 70%;
    }
    .M13
    {
      background: #bb0f90;
      margin-top: 60%;
       width: 170px;
       height: 100px;
       
    }
    .down
    {
      padding-top: 6%;
    }
    .child {
       /* Center horizontally */
      position: absolute;
      padding-left: 15%;
      margin: -25px 0 0 -25px;
    } 
  </style>
  <!-- <link rel="stylesheet" href="box.css"> -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web Cam</title>
  
</head>
<body>
  <div class="main">
    <div class="top">
      <p id="countDown" style="float:right;font-size: 85px;font-weight: bold;padding-top: 1%;">5:00</p></li>
    </div>
    <div class="down">

        <div class="left">
          <div class="navigation">
            <div class="child">
              <img src="{{url_for( 'video_feed')}}"style="width: 800px; height=1200px;" alt="This is WebCam" />
            </div>
          </div>
        </div>
        <div class="right">
          <div class="M21">
            <h1>
              Shape
              <iframe id="shape" src="{{url_for( 'getShapes')}}" width="100px" height="100px" frameBorder="0"></iframe>
            </h1></div>
          <div class="M13">
            <iframe id="naruto" src="{{url_for( 'getPoints')}}" width="100px" height="100px" frameBorder="0"></iframe>
          </div>
        </div>
      </div>
    </div>
<!-- </body> -->
<!-- <body> -->
  
  <!--Countdown div-->
  <!-- <div class="timer">
    <p id="countDown">5:00</p>
  </div>
  
      <h3 style="text-align: center;">Live Streaming</h3>
      <div class="child">
        <img src="{{url_for( 'video_feed')}}"style="width: 800px; height=1200px;" alt="This is WebCam" />
      </div> -->
  


  <!-- video capturing    webcam  

  <video id ="vid" autoplay></video>     
  <script>
    navigator.mediaDevices.getUserMedia({
      video : true  
    })
    .then(stream => {
      document.getElementById('vid').srcObject = stream;
    })
  </script>


  done -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
  <script type="text/javascript" charset="utf-8">
      var socket = io();
      socket.on('connect', function() {
          console.log("connected to socketio")
          socket.emit('message', "Hello plss work");
      });
  </script>

  <!-- This socket is use to provide when the function will start -->
  <script type="text/javascript" charset="utf-8">
    function onStart()
    {
      var socket = io();
      socket.on('start', function() {
          socket.emit('gameOn',"True");
      });
    }
  </script>

  <script>
    // start=new Date(2022, 4, 4, 1, 30, 0, 0)
    // function preTimer(){
      // now=Date.now()
      
      // dif=start-now
      // alert(dif.getHours()+" "+dif.getMinutes()+" "+dif.getSeconds())
      // return dif
    // }
    // function gameStart(){
    //   --i
    //   display.innerHTML=Math.floor(i/60)+" : "+ (i%60<10) ? "0"+i%60 : i%60
    //   if(i===0)
    //   {
    //     display.innerHTML="Game Over"
    //     clearInterval(timer)
    //   }
    // }

    let display=document.getElementById("countDown")
    // let frame=document.getElementById("naruto")

    console.log(display)
    let i=300
    const timer=setInterval(()=>{
      // if(preTimer()>0)
      // {
      //   preTimer()
      // }
      // else{
      // }
      // gameStart()
      if(dif==0){
        start=new Date(2022, 4, 4, 1, 30, 0, 0)
        now=Date.now()
        dif=start-now
        alert(dif.getHours()+" "+dif.getMinutes()+" "+dif.getSeconds())
      }
      else{
        --i
        display.innerHTML=Math.floor(i/60)+":"+ ((i%60<10) ? "0"+i%60 : i%60)
        if(i===0)
        {
          display.innerHTML="Game Over"
          clearInterval(timer)
        }
      }
      // for refreshing 
      // frame.setAttribute("src","{{url_for( 'video_feed')}}")
    },1000)
  </script>
</body>
</html>
